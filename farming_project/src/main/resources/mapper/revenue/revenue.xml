<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.RTF.farming_project.revenue.dao.RevenueDao">


    <select id="getCropList" resultType="com.RTF.farming_project.revenue.dto.FarmCropDto">
        SELECT cname AS cropName,
        cid AS cropId
        FROM clresource
    </select>

    <insert id="historySave" parameterType="com.RTF.farming_project.revenue.dto.FarmHistorySaveDto">
        INSERT INTO salesHistory (userId, selectCrop, selectCropKor, selectArea, salesResult)
        VALUES (#{userId}, #{selectCrop}, #{selectCropKor}, #{selectArea}, #{salesResult})
    </insert>

    <select id="getAreaList" parameterType="String" resultType="com.RTF.farming_project.revenue.dto.FarmCropAreaDto">
        select rname as areaName
        from rlresource
        where cid IN
        (select cid
        from result
        where cname=#{areaName})
    </select>
</mapper>